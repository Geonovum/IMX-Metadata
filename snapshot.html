<!DOCTYPE html><html lang="nl"><head>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<meta name="generator" content="ReSpec 34.1.1">
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
  
  
  
  
  
  
  
<script>document.title = respecConfig.title</script>
<title>WaU - Metadata basic principles</title>
  
<title>Default</title>
  
<link rel="shortcut icon" type="image/x-icon" href="https://tools.geostandaarden.nl/respec/style/logos/Geonovum.ico">
  

<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline;position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-.7em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<style>
ul.index{columns:30ch;column-gap:1.5em}
ul.index li{list-style:inherit}
ul.index li span{color:inherit;cursor:pointer;white-space:normal}
#index-defined-here ul.index li{font-size:.9rem}
ul.index code{color:inherit}
#index-defined-here .print-only{display:none}
@media print{
#index-defined-here .print-only{display:initial}
}
</style>
<meta name="description" content="TODO: vul in abstract.md een abstract in.">
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
.sidelabel{position:fixed;-webkit-transform-origin:top right;right:100%;top:0;-webkit-transform:rotate(-90deg);padding:4px 50px 4px 10px;color:#fff;white-space:nowrap;z-index:1}
</style>
<script type="text/javascript">
   /* Any custom mermaid.js scripts will go here. */
  </script>
<style>

  /* Any custom mermaid.js scripts will go here. */
  }
</style>
<script id="initialUserConfig" type="application/json">{
  "nl_organisationName": "Geonovum",
  "nl_organisationPublishURL": "https://docs.geostandaarden.nl/",
  "logos": [
    {
      "src": "https://tools.geostandaarden.nl/respec/style/logos/Geonovum.svg",
      "alt": "Geonovum",
      "id": "Geonovum",
      "height": 67,
      "width": 132,
      "url": "https://www.geonovum.nl/geo-standaarden"
    }
  ],
  "postProcess": [
    null
  ],
  "edDraftURI": [
    "https://geonovum.github.io",
    "/",
    "shortName"
  ],
  "latestVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "shortName",
    "/"
  ],
  "thisVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "specStatus",
    "-",
    "specType",
    "-",
    "shortName",
    "-",
    "publishDate"
  ],
  "prevVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "previousMaturity",
    "-",
    "specType",
    "-",
    "shortName",
    "-",
    "previousPublishDate"
  ],
  "useLogo": true,
  "useLabel": true,
  "license": "cc-by",
  "addSectionLinks": true,
  "localizationStrings": {
    "en": {
      "wv": "Editor's draft",
      "cv": "Candidate recommendation",
      "vv": "Proposed recommendation",
      "def": "Recommendation",
      "basis": "Document",
      "no": "Norm",
      "st": "Standard",
      "im": "Information model",
      "pr": "Practical guideline",
      "hr": "Guide",
      "wa": "Werkafspraak",
      "al": "General",
      "bd": "Governance documentation",
      "bp": "Best practice"
    },
    "nl": {
      "wv": "Werkversie",
      "cv": "Consultatieversie",
      "vv": "Versie ter vaststelling",
      "def": "Vastgestelde versie",
      "basis": "Document",
      "no": "Norm",
      "st": "Standaard",
      "im": "Informatiemodel",
      "pr": "Praktijkrichtlijn",
      "hr": "Handreiking",
      "wa": "Werkafspraak",
      "al": "Algemeen",
      "bd": "Beheerdocumentatie",
      "bp": "Best practice"
    }
  },
  "specTypeText": {
    "en": {
      "no": "Norm",
      "st": "Standard",
      "im": "Information model",
      "pr": "Guideline",
      "hr": "Guide",
      "wa": "Werkafspraak",
      "al": "General",
      "bd": "Governance documentation",
      "bp": "Best practice"
    },
    "nl": {
      "no": "Norm",
      "st": "Standaard",
      "im": "Informatiemodel",
      "pr": "Praktijkrichtlijn",
      "hr": "Handreiking",
      "wa": "Werkafspraak",
      "al": "Algemeen",
      "bd": "Beheerdocumentatie",
      "bp": "Best practice"
    }
  },
  "specStatusText": {
    "en": {
      "wv": "Editor's draft",
      "cv": "Candidate recommendation",
      "vv": "Proposed recommendation",
      "def": "Recommendation",
      "basis": "Document"
    },
    "nl": {
      "wv": "Werkversie",
      "cv": "Consultatieversie",
      "vv": "Versie ter vaststelling",
      "def": "Vastgestelde versie",
      "basis": "Document"
    }
  },
  "sotdText": {
    "nl": {
      "sotd": "Status van dit document",
      "def": "Dit is de definitieve versie van dit document. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.",
      "wv": "Dit is een werkversie die op elk moment kan worden gewijzigd, verwijderd of vervangen door andere documenten. Het is geen stabiel document.",
      "cv": "Dit is een consultatieversie. Commentaar over dit document kan gestuurd worden naar ",
      "vv": "Dit is de definitieve conceptversie van dit document. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.",
      "basis": "Dit is een document zonder officiële status."
    },
    "en": {
      "sotd": "Status of this document",
      "def": "This is the definitive version of this document. Edits resulting from consultations have been applied.",
      "wv": "This is a working draft that can be changed, removed or replaced by other documents at any time. It is not a stable document.",
      "cv": "This is a stable draft, published for public comment. Comments regarding this document may be sent to ",
      "vv": "This is the final draft of this document. Edits resulting from consultations have been applied.",
      "basis": "This document has no official standing."
    }
  },
  "labelColor": {
    "def": "#045D9F",
    "wv": "#FF0000",
    "cv": "#045D9F",
    "vv": "#045D9F",
    "basis": "#80CC28"
  },
  "licenses": {
    "cc0": {
      "name": "Creative Commons 0 Public Domain Dedication",
      "short": "CC0",
      "url": "https://creativecommons.org/publicdomain/zero/1.0/",
      "image": "https://tools.geostandaarden.nl/respec/style/logos/CC-Licentie.svg"
    },
    "cc-by": {
      "name": "Creative Commons Attribution 4.0 International Public License",
      "short": "CC-BY",
      "url": "https://creativecommons.org/licenses/by/4.0/legalcode",
      "image": "https://tools.geostandaarden.nl/respec/style/logos/cc-by.svg"
    },
    "cc-by-nd": {
      "name": "Creative Commons Naamsvermelding-GeenAfgeleideWerken 4.0 Internationaal",
      "short": "CC-BY-ND",
      "url": "https://creativecommons.org/licenses/by-nd/4.0/legalcode.nl",
      "image": "https://tools.geostandaarden.nl/respec/style/logos/cc-by-nd.svg"
    }
  },
  "localBiblio": {
    "SemVer": {
      "href": "https://semver.org",
      "title": "Semantic Versioning 2.0.0",
      "authors": [
        "T. Preston-Werner"
      ],
      "date": "June 2013"
    }
  },
  "title": "WaU - Metadata basic principles",
  "specStatus": "wv",
  "specType": "HR",
  "pubDomain": "dk",
  "licence": "cc-by",
  "shortName": "WaU-Metadata",
  "editors": [
    {
      "name": "Paul Janssen",
      "company": "Geonovum",
      "companyURL": "https://www.geonovum.nl"
    }
  ],
  "authors": [
    {
      "name": "voornaam achternaam",
      "company": "Geonovum",
      "companyURL": "https://www.geonovum.nl"
    }
  ],
  "github": "https://github.com/Geonovum/NL-ReSpec-GN-template",
  "alternateFormats": [
    {
      "label": "pdf",
      "uri": "template.pdf"
    }
  ]
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css"></head>

<body class="h-entry toc-inline"><div class="head">
    <a class="logo" href="https://www.geonovum.nl/geo-standaarden"><img alt="Geonovum" height="67" id="Geonovum" src="https://tools.geostandaarden.nl/respec/style/logos/Geonovum.svg" width="132">
  </a> <h1 id="title" class="title">WaU - Metadata basic principles</h1>
    
    <h2>
      Geonovum Handreiking<br>
      Werkversie
      <time class="dt-published" datetime="2023-06-15">15 juni 2023</time>
    </h2>
    <dl>
      
      <dt>Laatst gepubliceerde versie:</dt><dd>
              <a href="https://docs.geostandaarden.nl/dk/wau-metadata/">https://docs.geostandaarden.nl/dk/wau-metadata/</a>
            </dd>
      
      
      
      
      
      
      <dt>Redacteur:</dt>
      <dd class="editor p-author h-card vcard">
    <span class="p-name fn">Paul Janssen</span> (<a class="p-org org h-org" href="https://www.geonovum.nl">Geonovum</a>)
  </dd>
      
      <dt>Auteur:</dt><dd class="editor p-author h-card vcard">
    <span class="p-name fn">voornaam achternaam</span> (<a class="p-org org h-org" href="https://www.geonovum.nl">Geonovum</a>)
  </dd>
      <dt>Doe mee:</dt><dd>
    <a href="https://github.com/Geonovum/NL-ReSpec-GN-template/">GitHub Geonovum/NL-ReSpec-GN-template</a>
  </dd><dd>
    <a href="https://github.com/Geonovum/NL-ReSpec-GN-template/issues/">Dien een melding in</a>
  </dd><dd>
    <a href="https://github.com/Geonovum/NL-ReSpec-GN-template/commits/">Revisiehistorie</a>
  </dd><dd>
    <a href="https://github.com/Geonovum/NL-ReSpec-GN-template/pulls/">Pull requests</a>
  </dd>
    </dl>
    
    
    <p>
          Dit document is ook beschikbaar in dit niet-normatieve formaat:
          <a rel="alternate" href="template.pdf">pdf</a>
        </p>
    <p class="copyright">
          Dit document valt onder de volgende licentie: 
          <a rel="license" href="https://creativecommons.org/licenses/by/4.0/legalcode" class="subfoot"><img style="float: left; padding-right: 5px;" src="https://tools.geostandaarden.nl/respec/style/logos/cc-by.svg" alt="Logo Creative Commons Attribution 4.0 International Public License"><br> Creative Commons Attribution 4.0 International Public License</a>
        </p>
    <hr title="Separator for header">
  </div>
  <section id="abstract" class="introductory"><h2>Samenvatting</h2><p>TODO: vul in abstract.md een abstract in.</p>
</section>
  <section id="sotd" class="introductory"><h2>Status van dit document</h2><p>Dit is een werkversie die op elk moment kan worden gewijzigd, verwijderd of vervangen door andere documenten. Het is geen stabiel document.</p></section><nav id="toc"><h2 class="introductory" id="inhoudsopgave">Inhoudsopgave</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Samenvatting</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status van dit document</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#scope"><bdi class="secno">1.1 </bdi>Scope</a></li><li class="tocline"><a class="tocxref" href="#target-audience"><bdi class="secno">1.2 </bdi>Target audience</a></li><li class="tocline"><a class="tocxref" href="#introduction-to-document"><bdi class="secno">1.3 </bdi>Introduction to document</a></li><li class="tocline"><a class="tocxref" href="#working-proces"><bdi class="secno">1.4 </bdi>Working proces</a></li></ol></li><li class="tocline"><a class="tocxref" href="#metadata-mim-extension"><bdi class="secno">2. </bdi>Metadata MIM extension</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#requirements"><bdi class="secno">2.1 </bdi>Requirements</a></li><li class="tocline"><a class="tocxref" href="#mim-uml-extension"><bdi class="secno">2.2 </bdi>MIM-UML extension</a></li><li class="tocline"><a class="tocxref" href="#implementation-encoding"><bdi class="secno">2.3 </bdi>Implementation, encoding.</a></li></ol></li><li class="tocline"><a class="tocxref" href="#data-element"><bdi class="secno">3. </bdi>Data element</a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">4. </bdi>Conformiteit</a></li><li class="tocline"><a class="tocxref" href="#tof"><bdi class="secno">5. </bdi>Lijst met figuren</a></li><li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">A. </bdi>Index</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">A.1 </bdi>Begrippen gedefinieerd door deze specificatie</a></li><li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">A.2 </bdi>Begrippen gedefinieerd door verwijzing</a></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">B. </bdi>Referenties</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normatieve-referenties"><bdi class="secno">B.1 </bdi>Normatieve referenties</a></li></ol></li></ol></nav>

  
  <section class="informative" id="introduction"><div class="header-wrapper"><h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction</h2><a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></div><p><em>Dit onderdeel is niet normatief.</em></p>
<p>Kadaster and Geonovum are developing a mechanism to facilitate the semantic integration of decentralized data registers. A central API operates on an integrated semantic layer. The semantic layer constitutes of a coherent information model integrating several domain specific domain models. An API orchestration layer directs data communication to and from existing data registries.</p>
<p>Data retrieval is according to the information model of the semantic layer. Data retrieval will optionally include metadata about the lineage (provenance) of the data.</p>
<p>This document specifies the lineage model used and the mechanism to relate the lineage data as metadata to published data.</p>
<section id="scope"><div class="header-wrapper"><h3 id="x1-1-scope"><bdi class="secno">1.1 </bdi>Scope</h3><a class="self-link" href="#scope" aria-label="Permalink for Section 1.1"></a></div>
<p>The scope of this lineage model is:</p>
<ul>
<li>lineage related to data being published as a result of data integration. The lineage will describe source and process/operation data</li>
<li>lineage data a data level, meaning the property level of entities</li>
<li>lineage data at the instance level of properties</li>
</ul>
<p>This report will also include a specification of relating lineage as metadata to conceptual UML application schema at the property level.</p>
</section><section id="target-audience"><div class="header-wrapper"><h3 id="x1-2-target-audience"><bdi class="secno">1.2 </bdi>Target audience</h3><a class="self-link" href="#target-audience" aria-label="Permalink for Section 1.2"></a></div>
<p>Information modeller, API developer, IT architect.</p>
</section><section id="introduction-to-document"><div class="header-wrapper"><h3 id="x1-3-introduction-to-document"><bdi class="secno">1.3 </bdi>Introduction to document</h3><a class="self-link" href="#introduction-to-document" aria-label="Permalink for Section 1.3"></a></div>
<p><em>Beschrijf hoe het document gelzezen moet worden, welke hoofdstukken voor wie bedoeld zijn, enz...</em></p>
<p><a href="#analysis">Analysis</a><br><a href="#requirements-and-approach">Requierments and approach</a><br><a href="#expert-sessions">Expert Sessions</a><br><a href="#information-model">Information model</a><br><a href="#conclusions-and-recommendations">Conclusions and recommendations</a>  </p>
</section><section id="working-proces"><div class="header-wrapper"><h3 id="x1-4-working-proces"><bdi class="secno">1.4 </bdi>Working proces</h3><a class="self-link" href="#working-proces" aria-label="Permalink for Section 1.4"></a></div>
<p>This document, lineage model, is developed in the WaU project .....
The principal working method is agile development through several High5 sessions on use cases of increasing complex information content and ....</p>
</section></section>
  <section id="metadata-mim-extension"><div class="header-wrapper"><h2 id="x2-metadata-mim-extension"><bdi class="secno">2. </bdi>Metadata MIM extension</h2><a class="self-link" href="#metadata-mim-extension" aria-label="Permalink for Section 2."></a></div>
<p>Lineage information is considered as metadata in relation to elements in a productmodel. For this reason we consider lineage as metadata and will provide a common solution to relate metadata to semantics of a productmodel.</p>
<section id="requirements"><div class="header-wrapper"><h3 id="x2-1-requirements"><bdi class="secno">2.1 </bdi>Requirements</h3><a class="self-link" href="#requirements" aria-label="Permalink for Section 2.1"></a></div>
<p>The lineage model provides lineage information as metadata at the property level .</p>
<p>Requierments of the metadata in this respect are the following:</p>
<ol>
<li>metadata at the property level of objecttypes</li>
<li>metadata at the instance level of properties</li>
<li>metadata can optionally be published</li>
<li>metadata model does not have effect on a productmodel</li>
</ol>
<p>ad 1,2: UML-MIM does not have a construct to bind (meta)data at properties, i.e. attributes or association ends. It is therefore necessary to extend UML-MIM.</p>
<p>ad 3,4: The metadata or in this case lineage model is modelled independently from the product model. Both are 'loosely' connected.</p>
<p>An approach to these requiremnst can be found in the [<cite><a class="bibref respec-offending-element" data-link-type="biblio" href="#bib-property-stereotype-for-metadata" title="Reference &quot;[Property-Stereotype-for-Metadata]&quot; not found." id="respec-offender-reference-property-stereotype-for-metadata-not-found">Property-Stereotype-for-Metadata</a></cite>]. This publication presents an UML extension through a stereotype <code>«propertyMetadata»</code> and a tagged value <code>metadataType</code>. An example is presented below.</p>
<figure id="Figure_1">
<img src="media/example_extension.png" alt="">
<figcaption><a class="self-link" href="#Figure_1">Figuur <bdi class="figno">1</bdi></a> <span class="fig-title">Example showing use of stereotype: Properties with stereotype <code>«HasMetadata»</code> reference metadata types via tagged value <code>metadataType</code>. Source:[<cite><a class="bibref respec-offending-element" data-link-type="biblio" href="#bib-property-stereotype-for-metadata" title="Reference &quot;[Property-Stereotype-for-Metadata]&quot; not found." id="respec-offender-reference-property-stereotype-for-metadata-not-found-0">Property-Stereotype-for-Metadata</a></cite>]</span></figcaption>
</figure>


<p>The above presented pattern is slightly adapted by changing the sterotype name from propertyMetadata to a general <code>«HasMetadata»</code>. The pattern is presented below on a general class AnyFeature representing any possible feature type in a productmodel.</p>
<figure id="Figure_2">
<img src="media/ProductmodelProxy.png" alt="">
<figcaption><a class="self-link" href="#Figure_2">Figuur <bdi class="figno">2</bdi></a> <span class="fig-title">Metadata expressed at the conceptual level of a productmodel</span></figcaption>
</figure>

<p>Explanation and definition.</p>
<p>Stereotype «HasMetadata»</p>
<blockquote>
<p>  <strong>Definition «HasMetadata»</strong><br>  This element has associated metadata.</p>
</blockquote>
<p>Description:
The stereotype specifies that this information element has metadata associated. This is a specification at the conceptual level. A related tagged value <code>Metadata type</code> specifies the association to specific metadata.</p>
<p>Tagged Value: Metadata type</p>
<blockquote>
<p>  <strong>Definition Metadata type</strong><br>  Name of the target class of associated metadata.</p>
</blockquote>
<p>Description:
This tagged value specifies the relation to a specific target class of or in a specific metadata model. This target class serves as the receptor defining the type of metadata that is associated.</p>
<p>In figure 2 the value for <code>Metadata type = GeorkestreerdGegeven</code> is only an example and may differ according to the required metadata class that relates to the specified metadata.</p>
</section><section id="mim-uml-extension"><div class="header-wrapper"><h3 id="x2-2-mim-uml-extension"><bdi class="secno">2.2 </bdi>MIM-UML extension</h3><a class="self-link" href="#mim-uml-extension" aria-label="Permalink for Section 2.2"></a></div>
<p>The defined stereotype and related tagged value lead to an extension of the MIM model. As the extension for now is independent from MIM the extension is described both as an extension of the UML metamodel and the MIM-UML model.</p>
<p><strong>Extension on UML</strong></p>
<figure id="Figure_3">
<img src="media/UML extension.png" alt="">
<figcaption><a class="self-link" href="#Figure_3">Figuur <bdi class="figno">3</bdi></a> <span class="fig-title">Stereotype <code>«HasMetadata»</code> as extension on UML metaclass Property</span></figcaption>
</figure>

<p>This UML profile is implemented in a EA MDG Technology named <a href="UML-profile/HasMetadata_mdg_build01.xml">HasMetadata_mdg</a>.</p>
<p><strong>Extension on MIM-UML</strong></p>
<figure id="Figure_4">
<img src="" alt="">
<figcaption><a class="self-link" href="#Figure_4">Figuur <bdi class="figno">4</bdi></a> <span class="fig-title">Todo: Stereotype <code>«HasMetadata»</code> as extension on MIM-UML metaclasses</span></figcaption>
</figure>
 
 
<p> <strong>Example of this Metadata profile applied in a MIM-UML model.</strong></p>
 <figure id="Figure_5">
<img src="media/Example_gebouw.png" alt="">
<figcaption><a class="self-link" href="#Figure_5">Figuur <bdi class="figno">5</bdi></a> <span class="fig-title">Example of Stereotype <code>«HasMetadata»</code> applied in MIM-UML model</span></figcaption>
</figure>

</section><section id="implementation-encoding"><div class="header-wrapper"><h3 id="x2-3-implementation-encoding"><bdi class="secno">2.3 </bdi>Implementation, encoding.</h3><a class="self-link" href="#implementation-encoding" aria-label="Permalink for Section 2.3"></a></div>
<p>The challenges regarding the implementation of this conceptual metadata construct vary across different encoding formats. For example in XML a construct exists to add attributes to XML elements, which provides a means to give attributes to properties, in this case reference to a metadata object. In JSON this does not exist. The <code>«HasMetadata»</code> stereotype is therefore extended with a model transformation that objectifies properties of a productmodel. The objectified properties are not part of the productmodel but serve as a loosly coupled intermediate binding mechanism between data and metadata.</p>
<p>The UML model of this pattern is presented below.</p>
<figure id="Figure_6">
<img src="media/Binding model.png" alt="">
<figcaption><a class="self-link" href="#Figure_6">Figuur <bdi class="figno">6</bdi></a> <span class="fig-title">Pattern for the Metadata binding model. Objectification of properties.</span></figcaption>
</figure>


<p>Explanation of diagram.<br>The Metadata binding model serves as a objectification of the properties of the productmodel. Each property (attributes and association roles) is transfomed to an instance of the objecttype <code>GeorkestreerdGegeven</code> having its name in <code>propertyName</code>. Depending on the type of property (or its associated value type) a SimplePropertData, ComplexPropertyData or the AssociationPropertyData is chosen.
SimplePropertyData for properties with a unstructured valuetypes, ComplexPropertyData for structured valuetypes and AssociationPropertyData for association roles.
The value of a property is transformed to the <code>value</code> attribute or the <code>value</code> association role.</p>
<p>In this model there is no explicit information link between a property and its value of the productmodel and its objectified <code>PropertyData</code> and value instance. To bind data of the productmodel to instances of 'PropertyData' is bij convention. The convention is that instances from objecttypes of the Productmodel and its properties and values by convention are bindend to instances of PropertyData and values in the Metadata Binding Model having the value for <code>propertName</code> and <code>value</code> equal to the name of the property and its value.<br>So without specifying specifically for the three subtypes of <code>GeorkestreerdGegeven</code> the convention rule is: <code>Productmodel.property = GeorkestreerdGegeven.propertyName AND Productmodel.property.value = GeorkestreerdGegeven.value</code></p>
</section></section>
  <section id="data-element"><div class="header-wrapper"><h2 id="x3-data-element"><bdi class="secno">3. </bdi>Data element</h2><a class="self-link" href="#data-element" aria-label="Permalink for Section 3."></a></div>
<p>The first notion we introduce is that of a single statement or data element. Information objects we consume to draw insights from or base decisions on are comprised out of multiple atomic units of information, each captured by one attribute or association. Consider the following information object in JSON:</p>
<pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"omschrijving"</span>: <span class="hljs-string">"Laan van Westenenk 701, 7334DP Apeldoorn"</span>,
  <span class="hljs-attr">"plaatsnaam"</span>: <span class="hljs-string">"Apeldoorn"</span>,
  <span class="hljs-attr">"identificatie"</span>: <span class="hljs-string">"0200200000075716"</span>,
  <span class="hljs-attr">"isHoofdadres"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"huisnummer"</span>: <span class="hljs-number">701</span>,
  <span class="hljs-attr">"postcode"</span>: <span class="hljs-string">"7334DP"</span>,
  <span class="hljs-attr">"straatnaam"</span>: <span class="hljs-string">"Laan van Westenenk"</span>
}</code></pre>

<p>Or, in RDF:</p>
<pre aria-busy="false"><code class="hljs css">&lt;http://example.com/id/adres/<span class="hljs-number">0200200000075716</span>&gt; a gebouw:Adres;
  gebouw:postcode <span class="hljs-string">"7334DP"</span>;
  gebouw:huisnummer <span class="hljs-number">701</span>;
  gebouw:identificatie <span class="hljs-string">"0200200000075716"</span>;
  gebouw:omschrijving <span class="hljs-string">"Laan van Westenenk 701, 7334DP Apeldoorn"</span>;
  nen3610:registratiegegevens &lt;http://example.com/base/registratiegegevens-<span class="hljs-number">0200200000075716</span>&gt;;
  gebouw:straatnaam <span class="hljs-string">"Laan van Westenenk"</span>;
  gebouw:plaatsnaam <span class="hljs-string">"Apeldoorn"</span>;
  gebouw<span class="hljs-selector-pseudo">:is</span>Hoofdadres true .</code></pre>

<p>Each data element can have its own lineage; its own algorithm to determine the given value. By treating these data elements as object; allows us to describe and provide information about them. For instance to state that <code>{ "plaatsnaam": "Apeldoorn" }</code> is derived from a data element in the BAG. 
In the following diagram both the object and the data elements are modelled as an objecttype, as they are things; objects, we are interested in describing.</p>
<p><figure id="fig-generatedID"><img src="media/level1.1.png" alt=""><figcaption><a class="self-link" href="#fig-generatedID">Figuur <bdi class="figno">7</bdi></a> <span class="fig-title"></span></figcaption></figure></p>
<p>A data element is identified by it's 1) subject 2) value and 3) property
e.g.</p>
<pre><code aria-busy="false" class="hljs json">{
    <span class="hljs-attr">"property"</span>: <span class="hljs-string">"plaatsnaam"</span>,
    <span class="hljs-attr">"value"</span>: {
        <span class="hljs-attr">"stringValue"</span>: <span class="hljs-string">"Apeldoorn"</span>
    },
    <span class="hljs-attr">"subject"</span>: {
        <span class="hljs-attr">"identificatie"</span>: <span class="hljs-string">"0200200000075716"</span>,
        <span class="hljs-attr">"domein"</span>: <span class="hljs-literal">null</span>
    }
}
</code></pre>
<table class="simple">
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody><tr>
<td>object</td>
<td>An object is any resource that is the subject of a registration.</td>
</tr>
<tr>
<td>data element</td>
<td>A data element is any singular piece of information about a resource.</td>
</tr>
<tr>
<td>subject</td>
<td>A subject is an object a data element is about.</td>
</tr>
<tr>
<td>property</td>
<td>A property is the characteristic of the subject a data element is about.</td>
</tr>
<tr>
<td>value</td>
<td>The value of a data element.</td>
</tr>
</tbody></table>
<p>Several subtypes of data elements are identified; but these are omitted in the following examples for simplicity's sake.</p>
<p><figure id="fig-generatedID-0"><img src="media/level1.2.png" alt=""><figcaption><a class="self-link" href="#fig-generatedID-0">Figuur <bdi class="figno">8</bdi></a> <span class="fig-title"></span></figcaption></figure></p>
<p>A data element can be described from different point of views. The perpective the lineage model takes is one of provenance. Questions to be answered include, for instance, where, how and by whom, is the statement <code>Building G0200.42b3d39246840268e0530a0a28492340 has construction date 2006</code> created? Other models could address other aspects of a data element; for instance whether it is subject to an examination of correctness (which could be relevant for the BAG: <a href="https://catalogus.kadaster.nl/bag/nl/page/InOnderzoek">https://catalogus.kadaster.nl/bag/nl/page/InOnderzoek</a>) or what is the quality of a data element. </p>
<p>A data element is part of the information object describing an object; but this is omitted in the following examples.</p>
<p><figure id="fig-generatedID-1"><img src="media/level1.3.png" alt=""><figcaption><a class="self-link" href="#fig-generatedID-1">Figuur <bdi class="figno">9</bdi></a> <span class="fig-title"></span></figcaption></figure></p>
<p>This gives a basic model applicable for many usecases. This lineage model add to this a way to connect one data element to one or more other data elements it is derived from. The latter are called source data elements, the former orchestrated data elements.
For the source data elements it is important to know which registry or dataset it is retrieved from so that users can interpret the source data element in the context it was published in. This also allows allows users to find related information.</p>
</section>

  <section id="conformance"><div class="header-wrapper"><h2 id="x4-conformiteit"><bdi class="secno">4. </bdi>Conformiteit</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 4."></a></div><p>Naast onderdelen die als niet normatief gemarkeerd zijn, zijn ook alle diagrammen, voorbeelden, en noten in dit document niet normatief. Verder is alles in dit document normatief.</p></section>
  <section id="tof"><div class="header-wrapper"><h2 id="x5-lijst-met-figuren"><bdi class="secno">5. </bdi>Lijst met figuren</h2><a class="self-link" href="#tof" aria-label="Permalink for Section 5."></a></div><ul class="tof">
        <li class="tofline">
    <a class="tocxref" href="#Figure_1"><span class="self-link">Figuur <bdi class="figno">1</bdi></span> <span class="fig-title">Example showing use of stereotype: Properties with stereotype <code>«HasMetadata»</code> reference metadata types via tagged value <code>metadataType</code>. Source:[<cite><span class="bibref" data-link-type="biblio">Property-Stereotype-for-Metadata</span></cite>]</span></a>
  </li><li class="tofline">
    <a class="tocxref" href="#Figure_2"><span class="self-link">Figuur <bdi class="figno">2</bdi></span> <span class="fig-title">Metadata expressed at the conceptual level of a productmodel</span></a>
  </li><li class="tofline">
    <a class="tocxref" href="#Figure_3"><span class="self-link">Figuur <bdi class="figno">3</bdi></span> <span class="fig-title">Stereotype <code>«HasMetadata»</code> as extension on UML metaclass Property</span></a>
  </li><li class="tofline">
    <a class="tocxref" href="#Figure_4"><span class="self-link">Figuur <bdi class="figno">4</bdi></span> <span class="fig-title">Todo: Stereotype <code>«HasMetadata»</code> as extension on MIM-UML metaclasses</span></a>
  </li><li class="tofline">
    <a class="tocxref" href="#Figure_5"><span class="self-link">Figuur <bdi class="figno">5</bdi></span> <span class="fig-title">Example of Stereotype <code>«HasMetadata»</code> applied in MIM-UML model</span></a>
  </li><li class="tofline">
    <a class="tocxref" href="#Figure_6"><span class="self-link">Figuur <bdi class="figno">6</bdi></span> <span class="fig-title">Pattern for the Metadata binding model. Objectification of properties.</span></a>
  </li><li class="tofline">
    <a class="tocxref" href="#fig-generatedID"><span class="self-link">Figuur <bdi class="figno">7</bdi></span> <span class="fig-title"></span></a>
  </li><li class="tofline">
    <a class="tocxref" href="#fig-generatedID-0"><span class="self-link">Figuur <bdi class="figno">8</bdi></span> <span class="fig-title"></span></a>
  </li><li class="tofline">
    <a class="tocxref" href="#fig-generatedID-1"><span class="self-link">Figuur <bdi class="figno">9</bdi></span> <span class="fig-title"></span></a>
  </li>
      </ul></section>
  <section id="index" class="appendix"><div class="header-wrapper"><h2 id="a-index"><bdi class="secno">A. </bdi>Index</h2><a class="self-link" href="#index" aria-label="Permalink for Appendix A."></a></div><section id="index-defined-here">
    <div class="header-wrapper"><h3 id="a-1-begrippen-gedefinieerd-door-deze-specificatie"><bdi class="secno">A.1 </bdi>Begrippen gedefinieerd door deze specificatie</h3><a class="self-link" href="#index-defined-here" aria-label="Permalink for Appendix A.1"></a></div>
    <ul class="index">
    
  </ul>
  </section><section id="index-defined-elsewhere">
    <div class="header-wrapper"><h3 id="a-2-begrippen-gedefinieerd-door-verwijzing"><bdi class="secno">A.2 </bdi>Begrippen gedefinieerd door verwijzing</h3><a class="self-link" href="#index-defined-elsewhere" aria-label="Permalink for Appendix A.2"></a></div>
    <ul class="index">
    
  </ul>
  </section></section>



<section id="references" class="appendix"><div class="header-wrapper"><h2 id="b-referenties"><bdi class="secno">B. </bdi>Referenties</h2><a class="self-link" href="#references" aria-label="Permalink for Appendix B."></a></div><section id="normatieve-referenties">
    <div class="header-wrapper"><h3 id="b-1-normatieve-referenties"><bdi class="secno">B.1 </bdi>Normatieve referenties</h3><a class="self-link" href="#normatieve-referenties" aria-label="Permalink for Appendix B.1"></a></div>
    <dl class="bibliography"><dt id="bib-property-stereotype-for-metadata">[Property-Stereotype-for-Metadata]</dt><dd>
      <em class="respec-offending-element">Reference not found.</em>
    </dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><div class="sidelabel" style="background-color: #FF0000;">Geonovum Handreiking - Werkversie</div><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>